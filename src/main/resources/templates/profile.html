<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Profile</title>
</head>
<body>
<h1>카카오 사용자 정보</h1>

<!-- 에러가 있을 경우 메시지 표시 -->
<div th:if="${error}">
    <p th:text="${error}" style="color:red;"></p>
</div>

<!-- 에러가 없을 경우 사용자 정보 표시 -->
<div th:unless="${error}">
    <p>닉네임: <span th:text="${nickname}"></span></p>
    <p>이메일: <span th:text="${email}"></span></p>

    <!-- 프로필 이미지가 있을 경우 이미지 표시 -->
    <div th:if="${userInfo['kakao_account'] != null}">
        <div th:if="${userInfo['kakao_account']['profile'] != null}">
            <img th:if="${userInfo['kakao_account']['profile']['profile_image_url']}"
                 th:src="${userInfo['kakao_account']['profile']['profile_image_url']}"
                 alt="Profile Image" width="100" height="100"/>
        </div>
    </div>

    <!-- 전체 JSON 형태로 디버깅용 출력 -->
    <h3>전체 응답(JSON-like)</h3>
    <pre th:text="${userInfo}"></pre>
</div>

<p><a href="/">메인으로</a></p>
</body>
</html>
